from django.shortcuts import render
from .models import Cat
import requests
import secrets
from random import randint


def home(request):
    context = {
        'cats': Cat.objects.all()
    }
    return render(request, 'cats/home.html', context)


def about(request):
    return render(request, 'cats/about.html', {'title': 'About'})


def random(request):
    types = []
    
    breeds = requests.get('https://api.thecatapi.com/v1/breeds').json()
    # breeds = [{'id': 'abys'}]

    for breed in breeds:
        cat = requests.get('https://api.thecatapi.com/v1/images/search?breed_ids=' + breed.get('id')).json()[0]
        # cat = cat.get('url')
        types.append(cat)

    context = {
        'cats': types
    }
    return render(request, 'cats/random.html', context)

def add(request):
    types = []

    coordinates = [
        {'latitude':37.7051,'longitude':-121.721},
        {'latitude':37.9978,'longitude':-121.721},
        {'latitude':37.7061,'longitude':-121.723},
        {'latitude':37.7092,'longitude':-121.724},
        {'latitude':37.7117,'longitude':-121.724},
        {'latitude':37.7183,'longitude':-121.724},
        {'latitude':37.9979,'longitude':-121.731},
        {'latitude':37.6966,'longitude':-121.735},
        {'latitude':37.9253,'longitude':-121.735},
        {'latitude':37.9617,'longitude':-121.743},
        {'latitude':37.696,'longitude':-121.744},
        {'latitude':37.9615,'longitude':-121.748},
        {'latitude':37.7021,'longitude':-121.757},
        {'latitude':37.962,'longitude':-121.764},
        {'latitude':37.9633,'longitude':-121.769},
        {'latitude':37.6795,'longitude':-121.771},
        {'latitude':37.6818,'longitude':-121.771},
        {'latitude':37.2328,'longitude':-121.772},
        {'latitude':37.6801,'longitude':-121.773},
        {'latitude':37.7,'longitude':-121.773},
        {'latitude':37.2305,'longitude':-121.774},
        {'latitude':37.6981,'longitude':-121.774},
        {'latitude':37.2278,'longitude':-121.776},
        {'latitude':37.228,'longitude':-121.776},
        {'latitude':37.6826,'longitude':-121.778},
        {'latitude':37.9656,'longitude':-121.778},
        {'latitude':37.9653,'longitude':-121.779},
        {'latitude':37.6791,'longitude':-121.782},
        {'latitude':37.6787,'longitude':-121.783},
        {'latitude':37.9949,'longitude':-121.784},
        {'latitude':37.9953,'longitude':-121.785},
        {'latitude':37.3107,'longitude':-121.786},
        {'latitude':37.6781,'longitude':-121.786},
        {'latitude':37.9681,'longitude':-121.786},
        {'latitude':37.9881,'longitude':-121.786},
        {'latitude':37.3144,'longitude':-121.79},
        {'latitude':37.3143,'longitude':-121.791},
        {'latitude':37.3156,'longitude':-121.793},
        {'latitude':37.3163,'longitude':-121.793},
        {'latitude':37.3247,'longitude':-121.797},
        {'latitude':37.2536,'longitude':-121.799},
        {'latitude':37.2546,'longitude':-121.8},
        {'latitude':37.2548,'longitude':-121.8},
        {'latitude':37.298,'longitude':-121.8},
        {'latitude':37.237,'longitude':-121.801},
        {'latitude':37.25,'longitude':-121.803},
        {'latitude':37.237,'longitude':-121.804},
        {'latitude':37.2458,'longitude':-121.804},
        {'latitude':37.2367,'longitude':-121.807},
        {'latitude':37.3116,'longitude':-121.808},
        {'latitude':37.9963,'longitude':-121.811},
        {'latitude':37.9963,'longitude':-121.811},
        {'latitude':37.9963,'longitude':-121.811},
        {'latitude':37.33,'longitude':-121.812},
        {'latitude':37.3274,'longitude':-121.816},
        {'latitude':37.356,'longitude':-121.819},
        {'latitude':37.7033,'longitude':-121.819},
        {'latitude':37.3561,'longitude':-121.82},
        {'latitude':37.9988,'longitude':-121.822},
        {'latitude':37.2996,'longitude':-121.823},
        {'latitude':37.2996,'longitude':-121.823},
        {'latitude':37.3246,'longitude':-121.823},
        {'latitude':37.3221,'longitude':-121.826},
        {'latitude':37.3812,'longitude':-121.827},
        {'latitude':37.3209,'longitude':-121.828},
        {'latitude':37.3502,'longitude':-121.828},
        {'latitude':37.2515,'longitude':-121.829},
        {'latitude':37.3261,'longitude':-121.83},
        {'latitude':37.3261,'longitude':-121.83},
        {'latitude':37.2511,'longitude':-121.831},
        {'latitude':37.254,'longitude':-121.831},
        {'latitude':37.2542,'longitude':-121.831},
        {'latitude':37.2946,'longitude':-121.832},
        {'latitude':37.3477,'longitude':-121.832},
        {'latitude':37.2661,'longitude':-121.833},
        {'latitude':37.2775,'longitude':-121.834},
        {'latitude':37.2939,'longitude':-121.834},
        {'latitude':37.3631,'longitude':-121.834},
        {'latitude':37.2905,'longitude':-121.835},
        {'latitude':37.3621,'longitude':-121.835},
        {'latitude':37.2788,'longitude':-121.836},
        {'latitude':37.3748,'longitude':-121.836},
        {'latitude':37.3417,'longitude':-121.841},
        {'latitude':37.2503,'longitude':-121.843},
        {'latitude':37.3587,'longitude':-121.843},
        {'latitude':37.3707,'longitude':-121.844},
        {'latitude':37.4007,'longitude':-121.845},
        {'latitude':37.3079,'longitude':-121.848},
        {'latitude':37.366,'longitude':-121.849},
        {'latitude':37.365,'longitude':-121.851},
        {'latitude':37.2743,'longitude':-121.853},
        {'latitude':37.3532,'longitude':-121.854},
        {'latitude':37.3631,'longitude':-121.854},
        {'latitude':37.334,'longitude':-121.855},
        {'latitude':37.67,'longitude':-121.858},
        {'latitude':37.2491,'longitude':-121.859},
        {'latitude':37.3294,'longitude':-121.859},
        {'latitude':37.3869,'longitude':-121.86},
        {'latitude':37.2203,'longitude':-121.861},
        {'latitude':37.2506,'longitude':-121.862}
    ]

    breeds = requests.get('https://api.thecatapi.com/v1/breeds').json()
    # breeds = [{'id': 'abys'}]

    names = [
        'Aalaa',
        'Adekunle',
        'Afa',
        'Ahad',
        'Akeem',
        'Alex',
        'Alexa',
        'Alexandre',
        'Alexandro',
        'Alexis',
        'Alia',
        'Allison',
        'Amadriel',
        'Amber',
        'Amy',
        'Andres',
        'Andrew',
        'Angie',
        'Anne',
        'Anne-Sophie',
        'Anoop',
        'Anthony',
        'Ariana',
        'Arik',
        'Arthur',
        'Artur',
        'Athena',
        'Banu',
        'Becky',
        'Ben',
        'Bennett',
        'Bianca',
        'Bilal',
        'Binita',
        'Brendan',
        'Brennan',
        'Brent',
        'Bryan',
        'CaNese',
        'Cameron',
        'Carole',
        'Carrie',
        'Chandler',
        'Charles',
        'Christine',
        'Christopher',
        'Colton',
        'Constance',
        'Corbin',
        'Cuong',
        'Cynthia',
        'Damon',
        'Daniel',
        'Darnell',
        'David',
        'Debora',
        'Dennis',
        'Derek',
        'Derric',
        'Derrick',
        'Diva',
        'Domitille',
        'Dora',
        'Drew',
        'Edward',
        'Elaine',
        'Electra',
        'Elena',
        'Elizabeth',
        'Eric',
        'Erika',
        'Essence',
        'Ethan',
        'Evan',
        'Evdokiya',
        'Farrukh',
        'Felicia',
        'Fernando',
        'Florian',
        'Gaoqing',
        'George',
        'Germaine',
        'Grant',
        'Grayson',
        'Gregory',
        'Guillaume',
        'Hanh',
        'Heindrick',
        'Hemant',
        'Henry',
        'Holden',
        'Hongtu',
        'Hunter',
        'Ian',
        'Isaac',
        'Isaiah',
        'Jack',
        'Jacob',
        'James',
        'Jannis',
        'Jared',
        'Jason',
        'Jeffrey',
        'Jennifer',
        'Jerel',
        'Jeremy',
        'Jesse',
        'Jessica',
        'Jian',
        'Jianqin',
        'Jimmy',
        'Jinji',
        'Joan',
        'John',
        'Joseph',
        'Joshua',
        'Julien',
        'Julija',
        'Jun',
        'Juno',
        'Justin',
        'Katya',
        'Kenneth',
        'Kevan',
        'Kevin',
        'Kimberly',
        'Kiren',
        'Koome',
        'Kristen',
        'Kristine',
        'Kyle',
        'Laura',
        'Laurence',
        'Lee',
        'Leine',
        'Lindsey',
        'Lisa',
        'Madison',
        'Marc',
        'Marco',
        'Marine',
        'Marius',
        'Martin',
        'Mason',
        'Max',
        'Megha',
        'Michelle',
        'Mikaela',
        'Minhhuy',
        'Miranda',
        'Mitali',
        'Naomi',
        'Nathan',
        'Nehal',
        'Nga',
        'Niat',
        'Nicholas',
        'Nick',
        'Ntuj',
        'Olatope',
        'Omar',
        'Patrick',
        'Paul',
        'Pauline',
        'Peter',
        'Philip',
        'Phu',
        'Pierre',
        'Ramandeep',
        'Rashaad',
        'Raudo',
        'Rene',
        'Richard',
        'Rick',
        'Robert',
        'Rona',
        'Rui',
        'Ryuichi',
        'Samie',
        'Samuel',
        'Scout',
        'Sergii',
        'Sergio',
        'Shoji',
        'Sidney',
        'Sneha',
        'Sofia',
        'Sonia',
        'Sophie',
        'Spencer',
        'Sravanthi',
        'Stephen',
        'Steven',
        'Sumin',
        'Swati',
        'Sylvain',
        'Tabitha',
        'Tammy',
        'Tanya',
        'Tasneem',
        'Thomas',
        'Tiffany',
        'Tim',
        'Timothy',
        'Travis',
        'Trevor',
        'Tu',
        'Van',
        'Vasudha',
        'Veronica',
        'Victor',
        'Walton',
        'Wendy',
        'Yannis',
        'Yashar',
        'Yunju',
        'Zachary'
    ]

    for c in coordinates:
        breed = secrets.choice(breeds)
        cat = requests.get('https://api.thecatapi.com/v1/images/search?breed_ids=' + breed.get('id')).json()[0]
        cat['breed'] = cat['breeds'][0]['name']
        cat['latitude'] = c['latitude']
        cat['longitude'] = c['longitude']
        cat['age'] = randint(0,20)
        cat['name'] = names[randint(0,len(names) - 1)]
        cat1 = Cat(name=cat['name'], photo=cat['url'], breed=cat['breed'], age=cat['age'], latitude=cat['latitude'], longitude=cat['longitude'])
        cat1.save()
        types.append(cat)

    context = {
        'cats': types,
    }
    return render(request, 'cats/random.html', context)

    # cat1 = Cat(name='Brent',photo='blank',age=5,breed='human',latitude=0,longitude=0)
    # cat1.save()
